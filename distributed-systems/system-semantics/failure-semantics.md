# Failure Semantics (–°–µ–º–∞–Ω—Ç–∏–∫–∞ –æ—Ç–∫–∞–∑–æ–≤)

## –í–≤–µ–¥–µ–Ω–∏–µ

Failure Semantics (—Å–µ–º–∞–Ω—Ç–∏–∫–∞ –æ—Ç–∫–∞–∑–æ–≤) ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –º–æ–¥–µ–ª–µ–π –∏ –ø—Ä–∞–≤–∏–ª, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö, –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å –∏ –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø—Ä–∏ —Å–±–æ—è—Ö. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö –º–æ–¥–µ–ª–µ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ **–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å–±–æ–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã**.

üí° **–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è**: –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤—Å—ë –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è. –î–∏—Å–∫, –ø–∞–º—è—Ç—å, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, —Å–µ—Ç—å, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî –≤—Å—ë —ç—Ç–æ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í–æ–ø—Ä–æ—Å –Ω–µ –≤ —Ç–æ–º, *–ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ª–∏* —Å–±–æ–π, –∞ –≤ —Ç–æ–º, *–∫–æ–≥–¥–∞* –æ–Ω –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∏ *–∫–∞–∫* —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –Ω–µ–≥–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä—É–µ—Ç.

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –º–æ–¥–µ–ª–∏ –æ—Ç–∫–∞–∑–æ–≤?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—à—å —Å–∏—Å—Ç–µ–º—É, –Ω–æ –Ω–µ –∑–Ω–∞–µ—à—å, –∫–∞–∫ –æ–Ω–∞ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è. –¢—ã –Ω–µ —Å–º–æ–∂–µ—à—å:
- –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –ü–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –º–æ–∂–µ—Ç –¥–∞—Ç—å —Ç–≤–æ—è —Å–∏—Å—Ç–µ–º–∞
- –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥
- –û—Ü–µ–Ω–∏—Ç—å —Ä–∏—Å–∫–∏ –∏ SLA

–ú–æ–¥–µ–ª–∏ –æ—Ç–∫–∞–∑–æ–≤ –¥–∞—é—Ç —Ç–µ–±–µ **—Å–ª–æ–≤–∞—Ä—å** –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –∏ **—Ä–∞–º–∫–∏** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—â–∏—Ç—ã –æ—Ç —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º.

### –ü–æ—á–µ–º—É —ç—Ç–æ —Å–ª–æ–∂–Ω–æ?

–í –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å–±–æ–π –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø–∞–ª–∞". –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –≤—Å—ë –Ω–∞–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ:
- –û–¥–∏–Ω —É–∑–µ–ª –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥—Ä—É–≥–æ–π ‚Äî –Ω–µ—Ç
- –°–µ—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª–æ–º–∞–Ω–Ω–æ–π
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –Ω–µ –ø–∞–¥–∞—Ç—å
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –º–µ–¥–ª–µ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º –∏ –æ—Ç–∫–∞–∑–æ–º —É–∑–ª–∞

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ—Ç–∫–∞–∑–æ–≤

### 1. Fail-Stop (–û—Ç–∫–∞–∑ —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–∏–±–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ª–∏–±–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è. –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **–º–æ–≥—É—Ç –Ω–∞–¥—ë–∂–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å**, —á—Ç–æ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–µ—Å–ª–∏ —Å–ª–æ–º–∞–ª—Å—è ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è)
- ‚úÖ –î—Ä—É–≥–∏–µ —É–∑–ª—ã –º–æ–≥—É—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ —É–∑–Ω–∞—Ç—å, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–∫–∞–∑–∞–ª
- ‚úÖ –û—Ç–∫–∞–∑–∞–≤—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—Ç–∫–∞–∑–∞ (detection –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)
- ‚ùå –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –æ—Ñ–∏—Å–µ, –∏ —Ç–≤–æ–π –∫–æ–ª–ª–µ–≥–∞ –ª–∏–±–æ —Å–∏–¥–∏—Ç –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –ª–∏–±–æ –µ–≥–æ –Ω–µ—Ç –Ω–∞ –º–µ—Å—Ç–µ ‚Äî –∏ –≤—Å–µ —ç—Ç–æ –≤–∏–¥—è—Ç. –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–µ—Ç.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**PostgreSQL —Å synchronous replication**:
- –ï—Å–ª–∏ primary-—Å–µ—Ä–≤–µ—Ä –ø–∞–¥–∞–µ—Ç —Å fail-stop, standby —É–∑–µ–ª –º–æ–∂–µ—Ç —ç—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å (–Ω–µ—Ç heartbeat) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å—Å—è –¥–æ primary
- Primary –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å "–ø–æ–ª—É—Å–¥–µ–ª–∞–Ω–Ω—ã–µ" —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- Replica –∑–Ω–∞–µ—Ç —Ç–æ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –º–æ–º–µ–Ω—Ç –æ—Ç–∫–∞–∑–∞

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ primary PostgreSQL —É–ø–∞–ª, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–±–æ–µ–≤ (health check) —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ. –í —Ç–µ—á–µ–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç connection timeout, –Ω–æ standby –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª failover. –≠—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ fail-stop –º–æ–¥–µ–ª–∏ ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–Ω—è–ª–æ –≤—Ä–µ–º—è.

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- –ò—Å–ø–æ–ª—å–∑—É–π –Ω–∞–¥—ë–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–±–æ–µ–≤ (heartbeat, health checks)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
- –ì–æ—Ç–æ–≤—å—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ –º–µ–∂–¥—É –æ—Ç–∫–∞–∑–æ–º –∏ –µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –ø—Ä–æ–π–¥—ë—Ç –≤—Ä–µ–º—è
- –ò—Å–ø–æ–ª—å–∑—É–π monitoring (Prometheus, Grafana) –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —É–∑–ª–æ–≤

**–ü—Ä–æ–±–ª–µ–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏**:
- –°–ª–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–Ω–∞–¥—ë–∂–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** –æ—Ç–∫–∞–∑–∞ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ fail-stop
- –¢—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, fencing) –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ "–º—ë—Ä—Ç–≤—ã–π" —É–∑–µ–ª –Ω–µ –≤–æ—Å–∫—Ä–µ—Å–Ω–µ—Ç

---

### 2. Fail-Fast (–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞–∑)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∏ **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ** –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –≠—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: "–ª—É—á—à–µ —É–ø–∞—Å—Ç—å —Å—Ä–∞–∑—É, —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ".

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –û—à–∏–±–∫–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –ù–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (—Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–¥—ë—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ)
- ‚ùå –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ï—Å–ª–∏ —Ç—ã –ø–æ–Ω—è–ª, —á—Ç–æ –≤ —Ç–≤–æ—ë–º —Ä–∞—Å—á—ë—Ç–µ –æ—à–∏–±–∫–∞, –ª—É—á—à–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ —Å–∫–∞–∑–∞—Ç—å "—è –Ω–µ —É–≤–µ—Ä–µ–Ω", —á–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –≤—ã–¥–∞—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**Redis**:
- –ï—Å–ª–∏ Redis –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ AOF/RDB —Ñ–∞–π–ª–∞, –æ–Ω **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** —Å –æ—à–∏–±–∫–æ–π
- –≠—Ç–æ –ª—É—á—à–µ, —á–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç—å –∏ –æ—Ç–¥–∞–≤–∞—Ç—å –∏—Ö –∫–ª–∏–µ–Ω—Ç–∞–º

```
# BAD (without fail-fast):
Redis –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π RDB ‚Üí –æ—Ç–¥–∞—ë—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏ ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—è—Ç—Å—è –¥–∞–ª—å—à–µ

# GOOD (with fail-fast):
Redis –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ RDB ‚Üí –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π ‚Üí –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–∑ backup
```

**Kafka**:
- –ï—Å–ª–∏ broker –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ (–Ω–µ—Ç –º–µ—Å—Ç–∞, I/O error), –æ–Ω –ø–∞–¥–∞–µ—Ç
- –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ broker –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å Kafka broker, –∫–æ—Ç–æ—Ä—ã–π –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫. Producer –¥—É–º–∞–µ—Ç, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω–æ, –Ω–æ –æ–Ω–æ –ø–æ—Ç–µ—Ä—è–Ω–æ. –ö–æ–≥–¥–∞ —Ç—ã –æ–±–Ω–∞—Ä—É–∂–∏—à—å –ø—Ä–æ–±–ª–µ–º—É —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. Fail-fast –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- –î–æ–±–∞–≤–ª—è–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (assertions, invariants) –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π panic/crash –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ù–µ –ø—ã—Ç–∞–π—Å—è "—É–≥–∞–¥–∞—Ç—å" –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏—Ä—É–π –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–∞–∑–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π restart (systemd, Kubernetes) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**Trade-offs**:
- üìà –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- üìà –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- üìâ –°–Ω–∏–∂–µ–Ω–∏–µ availability (–±–æ–ª—å—à–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤)

---

### 3. Fail-Silent (–¢–∏—Ö–∏–π –æ—Ç–∫–∞–∑)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å, –Ω–æ **–Ω–µ —Å–æ–æ–±—â–∞–µ—Ç** –æ–± –æ—à–∏–±–∫–µ –∞–∫—Ç–∏–≤–Ω–æ. –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –Ω–µ –∑–Ω–∞—Ç—å, —á—Ç–æ –æ–Ω —Å–ª–æ–º–∞–ª—Å—è, –ø–æ–∫–∞ –Ω–µ –ø–æ–ø—ã—Ç–∞—é—Ç—Å—è —Å –Ω–∏–º —Å–≤—è–∑–∞—Ç—å—Å—è.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –û—Ç–∫–∞–∑–∞–≤—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –û–±–Ω–∞—Ä—É–∂–∏–º–æ—Å—Ç–∏ –æ—Ç–∫–∞–∑–∞ (–¥—Ä—É–≥–∏–µ —É–∑–ª—ã –º–æ–≥—É—Ç –Ω–µ –∑–Ω–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ)
- ‚ùå –û—Ç–ª–∏—á–∏—è –º–µ–∂–¥—É –º–µ–¥–ª–µ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º –∏ –æ—Ç–∫–∞–∑–æ–º

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –¢–≤–æ–π –∫–æ–ª–ª–µ–≥–∞ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ø–∏—Å—å–º–∞. –¢—ã –Ω–µ –∑–Ω–∞–µ—à—å ‚Äî –æ–Ω –≤ –æ—Ç–ø—É—Å–∫–µ, –∑–∞–±–æ–ª–µ–ª, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ç–µ–±—è –∏–ª–∏ —É –Ω–µ–≥–æ —Å–ª–æ–º–∞–ª–∞—Å—å –ø–æ—á—Ç–∞. –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≥–∞–¥–∞—Ç—å –∏–ª–∏ –∂–¥–∞—Ç—å.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**MongoDB replica set member**:
- –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —á–ª–µ–Ω–æ–≤ replica set –∑–∞–≤–∏—Å–∞–µ—Ç (deadlock, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª), –æ–Ω –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- Primary –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç heartbeat response –∏ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è —Å—á–∏—Ç–∞–µ—Ç —É–∑–µ–ª –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º
- –ù–æ –º–µ–∂–¥—É –º–æ–º–µ–Ω—Ç–æ–º –∑–∞–≤–∏—Å–∞–Ω–∏—è –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è (–æ–±—ã—á–Ω–æ 10-30 —Å–µ–∫—É–Ω–¥)

**ClickHouse distributed query**:
- –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ shards –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è distributed query, coordinator –∂–¥—ë—Ç —Ç–∞–π–º–∞—É—Ç–∞
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å—Ä–∞–∑—É ‚Äî shard –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –º–µ–¥–ª–µ–Ω–Ω–æ –∏–ª–∏ —É–ø–∞–ª

**Nginx upstream server**:
- –ï—Å–ª–∏ backend-—Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å–∞–µ—Ç –∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, Nginx –∂–¥—ë—Ç —Ç–∞–π–º–∞—É—Ç–∞ (proxy_connect_timeout, proxy_read_timeout)
- –í —ç—Ç–æ –≤—Ä–µ–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "loading..." –∏ –∂–¥—ë—Ç
- Nginx –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∏—Ç—å "—Å–µ—Ä–≤–µ—Ä –º–µ–¥–ª–µ–Ω–Ω—ã–π" –æ—Ç "—Å–µ—Ä–≤–µ—Ä –º—ë—Ä—Ç–≤"

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç**: –í production —É —Ç–µ–±—è 10 backend-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∑–∞ Nginx. –û–¥–∏–Ω –∏–∑ –Ω–∏—Ö –∑–∞–≤–∏—Å–∞–µ—Ç –∏–∑-–∑–∞ deadlock. –í —Ç–µ—á–µ–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥ (—Ç–≤–æ–π proxy_read_timeout) –∫–∞–∂–¥—ã–π –¥–µ—Å—è—Ç—ã–π –∑–∞–ø—Ä–æ—Å "–≤–∏—Å–Ω–µ—Ç", –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–∞–π–º–∞—É—Ç—ã. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä "–∂–∏–≤" (–ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç), –Ω–æ –æ–Ω –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç.

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π —Ä–∞–∑—É–º–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã** –Ω–∞ –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π **–∞–∫—Ç–∏–≤–Ω—ã–µ health checks** (–Ω–µ —Ç–æ–ª—å–∫–æ TCP port open, –Ω–æ –∏ application-level –ø—Ä–æ–≤–µ—Ä–∫–∏)
- –ü—Ä–∏–º–µ–Ω—è–π **circuit breaker pattern** ‚Äî –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–∞–π —É–∑–µ–ª –∏–∑ rotation
- –ò—Å–ø–æ–ª—å–∑—É–π **retry —Å exponential backoff**, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
- –ú–æ–Ω–∏—Ç–æ—Ä—å **latency percentiles** (p95, p99), –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Fail-Stop –∏ Fail-Silent**:

```
Fail-Stop:
Server –ø–∞–¥–∞–µ—Ç ‚Üí Monitoring –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å—Ä–∞–∑—É ‚Üí –£–±–∏—Ä–∞–µ—Ç –∏–∑ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

Fail-Silent:
Server –∑–∞–≤–∏—Å–∞–µ—Ç ‚Üí –í—ã–≥–ª—è–¥–∏—Ç –∂–∏–≤—ã–º ‚Üí –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ –Ω–µ–≥–æ ‚Üí –¢–∞–π–º–∞—É—Ç—ã ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç—Ä–∞–¥–∞—é—Ç ‚Üí –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ N —Ç–∞–π–º–∞—É—Ç–æ–≤ health check –ø–æ–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É
```

---

### 4. Fail-Recover (–û—Ç–∫–∞–∑ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–∞–∑–∞—Ç—å, –Ω–æ –∑–∞—Ç–µ–º **–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è** –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É. –≠—Ç–æ –º–æ–¥–µ–ª—å, –≥–¥–µ —Å–±–æ–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ, –∏ —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–±–æ—è
- ‚úÖ –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –í—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ùå –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è reinit)
- ‚ùå –ß—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–æ–±—â–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –¢–≤–æ–π WiFi router –∏–Ω–æ–≥–¥–∞ –∑–∞–≤–∏—Å–∞–µ—Ç, —Ç—ã –µ–≥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—à—å, –∏ –æ–Ω —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∞ –Ω–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–ª–æ–º–∫–∞.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**Kafka broker –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞**:
- Broker —É–ø–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ OOM)
- Kubernetes/systemd –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ
- Broker –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–≤–æ–∏ partition replicas —Å –¥–∏—Å–∫–∞
- Rejoin-–∏—Ç –≤ –∫–ª–∞—Å—Ç–µ—Ä
- –°–Ω–æ–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**RabbitMQ connection recovery**:
- Client –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ RabbitMQ
- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç temporary network glitch
- Connection —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è
- RabbitMQ client library –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (automatic recovery)
- Consumers –∏ publishers –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç—É

**PostgreSQL –ø–æ—Å–ª–µ crash**:
- Database —É–ø–∞–ª–∞ –∏–∑-–∑–∞ kernel panic
- –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ PostgreSQL –ø—Ä–æ—Ö–æ–¥–∏—Ç **crash recovery** –ø—Ä–æ—Ü–µ—Å—Å
- Replay-–∏—Ç WAL (Write-Ahead Log)
- –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ë–∞–∑–∞ —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —É —Ç–µ–±—è PostgreSQL –≤ production. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∫–∞—á–æ–∫ –Ω–∞–≥—Ä—É–∑–∫–∏, –±–∞–∑–∞ —É–ø–∞–ª–∞ –∏–∑-–∑–∞ OOM. –ë–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ restart (systemd, docker restart policy) –±–∞–∑–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–æ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º restart –æ–Ω–∞ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è —á–µ—Ä–µ–∑ 10-30 —Å–µ–∫—É–Ω–¥, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É (—Ö–æ—Ç—è –≤–æ –≤—Ä–µ–º—è recovery –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –æ—Ç–∫–ª–æ–Ω—è—Ç—å—Å—è).

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- –ò—Å–ø–æ–ª—å–∑—É–π **supervisor/orchestrator** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ restart (systemd, Kubernetes, supervisord)
- –†–µ–∞–ª–∏–∑—É–π **crash recovery –º–µ—Ö–∞–Ω–∏–∑–º—ã** (WAL, journaling)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π **health checks** –∏ **readiness probes** (—á—Ç–æ–±—ã –Ω–µ —Å–ª–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π—Å—è —É–∑–µ–ª)
- –°–æ—Ö—Ä–∞–Ω—è–π –∫—Ä–∏—Ç–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ (persistent storage)
- –ù–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π **retry logic** —Å —É—á—ë—Ç–æ–º –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏—Ä—É–π –ø—Ä–∏—á–∏–Ω—ã –ø–∞–¥–µ–Ω–∏–π –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:

**–î–æ–ª–≥–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**:
- ClickHouse —Å –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –º–∏–Ω—É—Ç—ã –∏–ª–∏ —á–∞—Å—ã –ø–æ—Å–ª–µ crash
- PostgreSQL —Å –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º WAL –º–æ–∂–µ—Ç –¥–æ–ª–≥–æ –¥–µ–ª–∞—Ç—å replay

**–ü–æ—Ç–µ—Ä—è in-memory state**:
- Redis –±–µ–∑ persistence (RDB/AOF) –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Ç–µ—Ä—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- Application –∫–µ—à–∏ –æ–±–Ω—É–ª—è—é—Ç—Å—è

**–ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–±–æ–∏**:
- –£–∑–µ–ª –ø–∞–¥–∞–µ—Ç ‚Üí –∫–ª–∏–µ–Ω—Ç—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ —É–∑–ª—ã ‚Üí –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –Ω–∏—Ö —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è ‚Üí –æ–Ω–∏ —Ç–æ–∂–µ –ø–∞–¥–∞—é—Ç

---

### 5. Crash-Recovery (–ü–∞–¥–µ–Ω–∏–µ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º)

**–ß—Ç–æ —ç—Ç–æ**: –ë–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –º–æ–¥–µ–ª—å fail-recover, –≥–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è** –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è persistent storage (–¥–∏—Å–∫). –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è databases –∏ stateful —Å–µ—Ä–≤–∏—Å–æ–≤.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –ü–æ—Å–ª–µ crash –∏ recovery —Å–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ **–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
- ‚úÖ Committed –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ durable storage)
- ‚úÖ –ù–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (recovery –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º)
- ‚ùå –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ uncommitted –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è recovery

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –¢—ã –ø–∏—à–µ—à—å –∫–Ω–∏–≥—É –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º. –ï—Å–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–Ω–µ–∑–∞–ø–Ω–æ –≤—ã–∫–ª—é—á–∏–ª—Å—è, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ç–µ–∫—Å—Ç –∏–∑ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ —Ä–∞–±–æ—Ç—ã –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è, –Ω–æ –≤—Å—ë —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**PostgreSQL WAL (Write-Ahead Logging)**:
- –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ WAL –Ω–∞ –¥–∏—Å–∫
- –ï—Å–ª–∏ –±–∞–∑–∞ —É–ø–∞–ª–∞, –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –æ–Ω–∞:
  1. –ß–∏—Ç–∞–µ—Ç WAL —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ checkpoint
  2. Replay-–∏—Ç –≤—Å–µ committed —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  3. –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  4. –ë–∞–∑–∞ –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

```
Timeline:
T1: BEGIN transaction
T2: UPDATE users SET balance = 100
T3: [WAL –∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫]
T4: COMMIT
T5: [COMMIT –∑–∞–ø–∏—Å—å –≤ WAL –Ω–∞ –¥–∏—Å–∫]
T6: ** CRASH **
T7: Restart
T8: Recovery: replay WAL ‚Üí —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, balance = 100
```

**MongoDB —Å –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º**:
- MongoDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç journal (–∞–Ω–∞–ª–æ–≥ WAL) –¥–ª—è crash recovery
- –ö–∞–∂–¥—ã–µ 100ms –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç journal –Ω–∞ –¥–∏—Å–∫ (by default)
- –ü–æ—Å–ª–µ crash –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ journal
- **–í–∞–∂–Ω–æ**: –µ—Å–ª–∏ –≤—ã–∫–ª—é—á–∏–ª–∏ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", –ø–æ—Å–ª–µ crash –º–æ–∂–µ—Ç–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ!

**Kafka log segments**:
- Kafka —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ append-only log —Ñ–∞–π–ª–∞—Ö –Ω–∞ –¥–∏—Å–∫–µ
- –ï—Å–ª–∏ broker —É–ø–∞–ª, –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –æ–Ω —á–∏—Ç–∞–µ—Ç log segments —Å –¥–∏—Å–∫–∞
- –í—Å–µ committed messages –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- –ù–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–Ω–µ –¥–æ—Å—Ç–∏–≥—à–∏–µ min.insync.replicas) –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ fsync**:

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å MongoDB –∏ –æ—Ç–∫–ª—é—á–∏–ª journaling –¥–ª—è "—É—Å–∫–æ—Ä–µ–Ω–∏—è". –°–µ—Ä–≤–µ—Ä –≤–Ω–µ–∑–∞–ø–Ω–æ –ø–æ—Ç–µ—Ä—è–ª –ø–∏—Ç–∞–Ω–∏–µ (kernel panic, –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π —Å–±–æ–π). –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ MongoDB –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç, —á—Ç–æ:
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥ –∑–∞–ø–∏—Å–µ–π –ø–æ—Ç–µ—Ä—è–Ω—ã (–±—ã–ª–∏ –≤ OS page cache, –Ω–æ –Ω–µ —Å–±—Ä–æ—à–µ–Ω—ã –Ω–∞ –¥–∏—Å–∫)
- –ß–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ (—Ñ–∞–π–ª—ã –≤ inconsistent state)
- –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∏–∑ backup, —Ç–µ—Ä—è—è —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- **–ò—Å–ø–æ–ª—å–∑—É–π Write-Ahead Logging (WAL)** –¥–ª—è durable —Å–∏—Å—Ç–µ–º
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π fsync/flush policies** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å durability —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:
  - `fsync` –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –Ω–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - `fsync` –∫–∞–∂–¥—ã–µ N ms = –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é
  - No `fsync` = –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- **–î–µ–ª–∞–π –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ checkpoints** (snapshot + WAL) –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è recovery
- **–¢–µ—Å—Ç–∏—Ä—É–π crash recovery** —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, chaos engineering)
- **–ú–æ–Ω–∏—Ç–æ—Ä—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å recovery** –∫–∞–∫ –º–µ—Ç—Ä–∏–∫—É

**Trade-offs**:

| –ü–æ–¥—Ö–æ–¥ | Durability | Performance | Recovery Time |
|--------|------------|-------------|---------------|
| fsync on every write | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | –ù–∏–∑–∫–∞—è | –ë—ã—Å—Ç—Ä—ã–π |
| Group commit (fsync batch) | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | –ë—ã—Å—Ç—Ä—ã–π |
| Periodic fsync | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–∏–π |
| No fsync | –ù–∏–∑–∫–∞—è | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º |

**PostgreSQL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
- `synchronous_commit = on` ‚Äî –∫–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∂–¥—ë—Ç fsync (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –Ω–∞–¥—ë–∂–Ω–æ)
- `synchronous_commit = off` ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –∂–¥—ë—Ç fsync (–±—ã—Å—Ç—Ä–æ, –Ω–æ —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–∏ crash)
- `wal_level = replica` ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ WAL –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

---

### 6. Partial Failure (–ß–∞—Å—Ç–∏—á–Ω—ã–π –æ—Ç–∫–∞–∑)

**–ß—Ç–æ —ç—Ç–æ**: –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ **—á–∞—Å—Ç—å** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∞ **—á–∞—Å—Ç—å** –æ—Ç–∫–∞–∑–∞–ª–∞. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–º–µ—Ç—å "–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ".

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –ß–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ —Ç–æ–º, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–ª–æ–º–∞–ª–æ—Å—å
- ‚ùå –ß—Ç–æ —Ä–∞–±–æ—á–∞—è —á–∞—Å—Ç—å –º–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚ùå –õ—ë–≥–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å –∫—Ä—É–ø–Ω—ã–π –æ—Ñ–∏—Å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–∂–µ–π. –í –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –∑–¥–∞–Ω–∏—è –æ—Ç–∫–ª—é—á–∏–ª–∏ —Å–≤–µ—Ç, –Ω–æ –≤ –¥—Ä—É–≥–æ–π –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –õ—é–¥–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–∂–∞—Ö –∏–º–µ—é—Ç —Ä–∞–∑–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –º–∞—Å—à—Ç–∞–±–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**Kafka cluster —Å 5 brokers**:
```
–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
Broker1: ‚úÖ (leader partition-0, partition-3)
Broker2: ‚úÖ (leader partition-1, partition-4)
Broker3: ‚úÖ (leader partition-2, partition-5)
Broker4: ‚úÖ (follower replicas)
Broker5: ‚úÖ (follower replicas)

Broker2 –ø–∞–¥–∞–µ—Ç:

Broker1: ‚úÖ
Broker2: ‚ùå
Broker3: ‚úÖ
Broker4: ‚úÖ (—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è leader partition-1, partition-4)
Broker5: ‚úÖ

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- Partition-0, 2, 3, 5 —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- Partition-1, 4 –∏–º–µ–ª–∏ downtime –≤–æ –≤—Ä–µ–º—è leader election
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ consumers/producers —É–≤–∏–¥–µ–ª–∏ –æ—à–∏–±–∫–∏
- –î—Ä—É–≥–∏–µ –¥–∞–∂–µ –Ω–µ –∑–∞–º–µ—Ç–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã
```

**MongoDB sharded cluster**:
```
Cluster:
Shard1 (users A-M): ‚úÖ
Shard2 (users N-Z): ‚ùå (—Å–ª–æ–º–∞–ª—Å—è)
Mongos (router): ‚úÖ

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- –ó–∞–ø—Ä–æ—Å—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º A-M —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ó–∞–ø—Ä–æ—Å—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º N-Z –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∏–¥–∏—Ç "—á–∞—Å—Ç–∏—á–Ω—É—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å"
- –ß–∞—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥—Ä—É–≥–∏–µ ‚Äî –Ω–µ—Ç
```

**PostgreSQL streaming replication**:
```
Primary: ‚úÖ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø–∏—Å–∏)
Replica1: ‚úÖ (—Ä–µ–ø–ª–∏—Ü–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç read-only –∑–∞–ø—Ä–æ—Å—ã)
Replica2: ‚ùå (–æ—Ç—Å—Ç–∞–ª–∞ –Ω–∞ 10 –º–∏–Ω—É—Ç –∏–∑-–∑–∞ network issue)
Replica3: ‚úÖ

–ü—Ä–æ–±–ª–µ–º–∞:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á–∏—Ç–∞—é—â–∏–µ —Å Replica2, –≤–∏–¥—è—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á–∏—Ç–∞—é—â–∏–µ —Å Replica1/Replica3, –≤–∏–¥—è—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –†–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –≤–∏–¥—è—Ç —Ä–∞–∑–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã!
```

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî split traffic problem**:

–£ —Ç–µ–±—è microservices: Frontend ‚Üí API Gateway ‚Üí Backend Services (10 instances). –û–¥–∏–Ω –∏–∑ backend instances "–ø–æ—á—Ç–∏ —Å–ª–æ–º–∞–ª—Å—è" ‚Äî –æ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç, –Ω–æ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ (–∏–∑-–∑–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏). Load balancer –≤—Å—ë –µ—â—ë –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–º—É —Ç—Ä–∞—Ñ–∏–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ health check –ø—Ä–æ—Ö–æ–¥–∏—Ç.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- 90% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ –∑–¥–æ—Ä–æ–≤—ã–µ instances)
- 10% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∏–¥—è—Ç —Ç–∞–π–º–∞—É—Ç—ã –∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ –±–æ–ª—å–Ω–æ–π instance)
- –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –æ—Ç–ª–æ–≤–∏—Ç—å ‚Äî –æ—à–∏–±–∫–∏ "—Ä–∞–Ω–¥–æ–º–Ω—ã–µ", –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –Ω–µ–ª–µ–≥–∫–æ

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- **Graceful degradation** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –æ—Ç–∫–∞–∑–µ
  - –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ recommendation service –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –≤–º–µ—Å—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **Bulkheads** (–∏–∑–æ–ª—è—Ü–∏—è –æ—Ç–∫–∞–∑–æ–≤) ‚Äî –∏–∑–æ–ª–∏—Ä—É–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–∫, —á—Ç–æ–±—ã –æ—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ –Ω–µ –≤–ª–∏—è–ª –Ω–∞ –¥—Ä—É–≥–∏–µ
  - –ü—Ä–∏–º–µ—Ä: –æ—Ç–¥–µ–ª—å–Ω—ã–µ thread pools –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Circuit breaker** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–π —Å–ª–æ–º–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - –ü–æ—Å–ª–µ N –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥ –ø–µ—Ä–µ—Å—Ç–∞–Ω—å —Å–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç—Ç–æ—Ç —É–∑–µ–ª –Ω–∞ –≤—Ä–µ–º—è
- **Monitoring per instance** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ instance –æ—Ç–¥–µ–ª—å–Ω–æ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ aggregate
- **Distributed tracing** (Jaeger, Zipkin) ‚Äî –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –≤ —Ü–µ–ø–æ—á–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–æ–±–ª–µ–º–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç–∏**:
- –¢—Ä—É–¥–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å partial failure (–º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ "–∏–Ω–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–Ω–æ–≥–¥–∞ –Ω–µ—Ç")
- –†–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- Debugging –æ—á–µ–Ω—å —Å–ª–æ–∂–µ–Ω ("—É –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç")

---

### 7. Network Partition (–°–µ—Ç–µ–≤–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)

**–ß—Ç–æ —ç—Ç–æ**: –£–∑–ª—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ –≥—Ä—É–ø–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è** –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –Ω–æ –∫–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∫–æ–≤–∞—Ä–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç–∫–∞–∑–æ–≤.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –£–∑–ª—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π partition –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –ß—Ç–æ —É–∑–ª—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∏—Ç—å partition –æ—Ç –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞ –¥—Ä—É–≥–æ–≥–æ —É–∑–ª–∞
- ‚ùå –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É partitions
- ‚ùå –ß—Ç–æ partition –∫–æ–≥–¥–∞-–ª–∏–±–æ "–∑–∞–∂–∏–≤—ë—Ç"

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö –æ—Ñ–∏—Å–∞—Ö ‚Äî –ú–æ—Å–∫–≤–∞ –∏ –ü–∏—Ç–µ—Ä. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏ –æ—Ç–∫–ª—é—á–∏–ª—Å—è. –û–±–∞ –æ—Ñ–∏—Å–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –Ω–µ –º–æ–≥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –ö–∞–∂–¥—ã–π –æ—Ñ–∏—Å –¥—É–º–∞–µ—Ç, —á—Ç–æ –≤—Ç–æ—Ä–æ–π "—É–ø–∞–ª", —Ö–æ—Ç—è –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–±–∞ –∂–∏–≤—ã.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:

```
–î–æ partition:
   [Node1] ‚Üê‚Üí [Node2] ‚Üê‚Üí [Node3]
      ‚Üï                      ‚Üï
   [Node4] ‚Üê‚Üí [Node5] ‚Üê‚Üí [Node6]

–ü–æ—Å–ª–µ network partition:
   [Node1] ‚Üê‚Üí [Node2]     [Node3]
      ‚Üï                      ‚Üï
   [Node4] ‚Üê‚Üí [Node5]     [Node6]

   Partition A              Partition B
   (–º–æ–∂–µ—Ç –æ–±—â–∞—Ç—å—Å—è)         (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞)
```

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**Kafka cluster split-brain**:

```
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ:
Broker1 (Zookeeper quorum) ‚Üê‚Üí Broker2 ‚Üê‚Üí Broker3
         DataCenter1              DataCenter2

Network partition –º–µ–∂–¥—É DC:

DC1: Broker1 (‚úÖ quorum)
DC2: Broker2, Broker3 (‚ùå –Ω–µ—Ç quorum)

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- Broker1 —Å—á–∏—Ç–∞–µ—Ç —Å–µ–±—è —á–∞—Å—Ç—å—é live cluster
- Broker2, Broker3 —Ç–µ—Ä—è—é—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Zookeeper quorum
- Broker2, Broker3 –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã (no quorum)
- –¢–æ–ª—å–∫–æ Broker1 –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- Producers/consumers –≤ DC2 –Ω–µ –º–æ–≥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å/—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
```

**MongoDB replica set split-brain (—Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏)**:

```
–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
Primary [Node1] ‚Üê‚Üí Secondary [Node2] ‚Üê‚Üí Secondary [Node3]

Network partition:
[Node1, Node2] | [Node3]

–°—Ü–µ–Ω–∞—Ä–∏–π –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã (–µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫):
- Partition A (Node1, Node2): –≤–∏–¥–∏—Ç 2 –∏–∑ 3 —É–∑–ª–æ–≤, –∏–º–µ–µ—Ç majority ‚Üí Node1 –æ—Å—Ç–∞—ë—Ç—Å—è Primary
- Partition B (Node3): –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–µ–±—è, –Ω–µ—Ç majority ‚Üí –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å Secondary

–ù–û –µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- Partition A: Node1 = Primary, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø–∏—Å–∏
- Partition B: Node3 –¥—É–º–∞–µ—Ç, —á—Ç–æ –æ–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ —Å–∞–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Primary (!)
- –¢–µ–ø–µ—Ä—å –î–í–ê Primary –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!
- –û–±–∞ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–∞–ø–∏—Å–∏
- –ö–æ–≥–¥–∞ —Å–µ—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ‚Üí data conflict, –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö!
```

**PostgreSQL —Å –¥–≤—É–º—è primary (–±–µ–∑ proper fencing)**:

```
Primary [PG1] ‚Üí VIP 10.0.0.100
Standby [PG2]

Network partition + failover system —Å–ª–æ–º–∞–ª—Å—è:

[PG1]: –¥—É–º–∞–µ—Ç, —á—Ç–æ –æ–Ω –≤—Å—ë –µ—â—ë Primary, –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å—Ç–∞—Ä–æ–º IP
[PG2]: failover —Å–∏—Å—Ç–µ–º–∞ —Ä–µ—à–∞–µ—Ç, —á—Ç–æ PG1 —É–ø–∞–ª, –ø–æ–≤—ã—à–∞–µ—Ç PG2 –¥–æ Primary, –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞–µ—Ç VIP –Ω–∞ PG2

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –î–≤–∞ Primary –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ß–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–∏—à–µ—Ç –≤ PG1
- –ß–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–∏—à–µ—Ç –≤ PG2
- –î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—è—Ç—Å—è (divergence)
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ reconcile!
```

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî GitHub outage 2012**:

–í 2012 –≥–æ–¥—É GitHub —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å network partition –≤ –∏—Ö MySQL setup. –ò–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ split-brain ‚Äî –¥–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—á–∏—Ç–∞–ª–∏ —Å–µ–±—è master. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫:
- –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ offline –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ú–Ω–æ–≥–æ—á–∞—Å–æ–≤–æ–º—É downtime

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:

**1. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Å–µ–Ω—Å—É—Å –∞–ª–≥–æ—Ä–∏—Ç–º—ã (Raft, Paxos)**:
- –¢—Ä–µ–±—É—é—Ç majority quorum –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –ü—Ä–∏ partition —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ (—Å majority) –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É

**2. –ü—Ä–∏–º–µ–Ω—è–π fencing/STONITH**:
- –ü—Ä–∏ failover –∞–∫—Ç–∏–≤–Ω–æ "—É–±–∏–≤–∞–π" —Å—Ç–∞—Ä—ã–π Primary (power off, network isolation)
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–π, —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–∑–µ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å Primary

**3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è quorum**:
- MongoDB: replica set –∏–∑ 3+ —É–∑–ª–æ–≤
- Kafka: Zookeeper ensemble –∏–∑ 3/5/7 —É–∑–ª–æ–≤ (–Ω–µ—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ)
- etcd/Consul: –º–∏–Ω–∏–º—É–º 3 —É–∑–ª–∞

**4. –ò—Å–ø–æ–ª—å–∑—É–π distributed coordination (Zookeeper, etcd, Consul)**:
- –î–ª—è leader election –∏ distributed locks
- –≠—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å —É—á—ë—Ç–æ–º network partitions

**5. –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π —Å —É—á—ë—Ç–æ–º CAP —Ç–µ–æ—Ä–µ–º—ã**:
- –ü—Ä–∏ partition –≤—ã–±–∏—Ä–∞–π: Consistency (–æ—Ç–∫–ª–æ–Ω—è–π –∑–∞–ø—Ä–æ—Å—ã) –∏–ª–∏ Availability (—Ä–∏—Å–∫—É–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é)
- Kafka –≤—ã–±–∏—Ä–∞–µ—Ç Consistency (partitions –±–µ–∑ leader –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)
- Cassandra –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å Availability (–æ—Ç–≤–µ—á–∞–µ—Ç —Å consistency level ANY)

**6. –¢–µ—Å—Ç–∏—Ä—É–π partitions**:
- –ò—Å–ø–æ–ª—å–∑—É–π chaos engineering (iptables rules, Chaos Monkey)
- –°–∏–º—É–ª–∏—Ä—É–π network partitions –≤ test environment

**Complexity**:
Network partition ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ª–∏—á–∏—Ç—å "—É–∑–µ–ª —É–º–µ—Ä" –æ—Ç "network partition" –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ split-brain –∏ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
- –¢—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (Raft, Paxos) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

### 8. Byzantine Failure (–í–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∏–π –æ—Ç–∫–∞–∑)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –≤–µ–¥—ë—Ç —Å–µ–±—è **–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ** ‚Äî –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–∑–Ω—ã–º —É–∑–ª–∞–º, –∏–ª–∏ –¥–∞–∂–µ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –≤—Ä–µ–¥–∏—Ç—å —Å–∏—Å—Ç–µ–º–µ. –ù–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å –∑–∞–¥–∞—á–∏ "Byzantine Generals Problem".

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚ùå –ù–∏–∫–∞–∫–∏—Ö! –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –≤—Å—ë —á—Ç–æ —É–≥–æ–¥–Ω–æ

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤
- ‚ùå –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚ùå –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –æ–¥–∏–Ω –∏–∑ —Ç–≤–æ–∏—Ö –∫–æ–ª–ª–µ–≥ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–≤–µ—á–∞—Ç—å (fail-silent), –∞ –Ω–∞—á–∞–ª –¥–∞–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ –æ—Ç–≤–µ—Ç—ã. –û–Ω –≥–æ–≤–æ—Ä–∏—Ç –æ–¥–Ω–æ–º—É —á–µ–ª–æ–≤–µ–∫—É "–¥–∞", –¥—Ä—É–≥–æ–º—É "–Ω–µ—Ç" –Ω–∞ —Ç–æ—Ç –∂–µ –≤–æ–ø—Ä–æ—Å. –ò–ª–∏ –µ—â—ë —Ö—É–∂–µ ‚Äî –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Å–∞–±–æ—Ç–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî Byzantine Generals Problem**:

```
–°—Ü–µ–Ω–∞—Ä–∏–π: –¢—Ä–∏ –≥–µ–Ω–µ—Ä–∞–ª–∞ –æ–∫—Ä—É–∂–∏–ª–∏ –≥–æ—Ä–æ–¥ –∏ –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∏—Ç—å ‚Äî –∞—Ç–∞–∫–æ–≤–∞—Ç—å –∏–ª–∏ –æ—Ç—Å—Ç—É–ø–∏—Ç—å.

Honest —Å–∏—Å—Ç–µ–º–∞ (–≤—Å–µ —É–∑–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã):
General A ‚Üí "Attack" ‚Üí General B
General A ‚Üí "Attack" ‚Üí General C
General B ‚Üí "Attack" ‚Üí General C
–ö–æ–Ω—Å–µ–Ω—Å—É—Å: Attack ‚úÖ

Byzantine —Å–∏—Å—Ç–µ–º–∞ (General B ‚Äî –ø—Ä–µ–¥–∞—Ç–µ–ª—å):
General A ‚Üí "Attack" ‚Üí General B (—á–µ—Å—Ç–Ω—ã–π)
General A ‚Üí "Attack" ‚Üí General C (—á–µ—Å—Ç–Ω—ã–π)
General B ‚Üí "Attack" ‚Üí General A (–æ—Ç–ø—Ä–∞–≤–∏–ª –æ–¥–Ω–æ)
General B ‚Üí "Retreat" ‚Üí General C (–æ—Ç–ø—Ä–∞–≤–∏–ª –¥—Ä—É–≥–æ–µ!)

–¢–µ–ø–µ—Ä—å:
- General A –¥—É–º–∞–µ—Ç: A=Attack, B=Attack ‚Üí majority Attack
- General C –¥—É–º–∞–µ—Ç: A=Attack, B=Retreat ‚Üí no consensus!
- –†–∞–∑–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è!
```

**–ü—Ä–∏—á–∏–Ω—ã Byzantine failures**:

1. **–ë–∏—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∂–µ–ª–µ–∑–∞**:
   - Cosmic ray –∏–∑–º–µ–Ω–∏–ª –±–∏—Ç –≤ –ø–∞–º—è—Ç–∏/CPU
   - –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å RAM (–±–µ–∑ ECC)
   - –ë–∏—Ç–∞—è SSD –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

2. **–ë–∞–≥–∏ –≤ —Å–æ—Ñ—Ç–µ**:
   - Heisenbug, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ
   - Race condition, –ø—Ä–∏–≤–æ–¥—è—â–∞—è –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É state
   - –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞

3. **–ù–∞–º–µ—Ä–µ–Ω–Ω–∞—è –∞—Ç–∞–∫–∞**:
   - –°–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª (hacked)
   - Malicious insider
   - –¢—Ä–æ—è–Ω –≤ –∫–æ–¥–µ

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**Blockchain (Bitcoin, Ethereum)**:
- Blockchain —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —É—Å–ª–æ–≤–∏—è—Ö Byzantine failures
- –ú–∞–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏ (–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å double-spend)
- Consensus –∞–ª–≥–æ—Ä–∏—Ç–º (Proof of Work, Proof of Stake) –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç Byzantine —É–∑–ª–æ–≤
- –¢—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã majority —É–∑–ª–æ–≤ –±—ã–ª–∏ —á–µ—Å—Ç–Ω—ã–º–∏

**Cassandra –±–µ–∑ checksums**:
- –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ Cassandra —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ –±–µ–∑ checksums
- SSD –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∏—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ (silent data corruption)
- Cassandra –æ—Ç–¥–∞—ë—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É
- –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± —ç—Ç–æ–º
- (–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ Cassandra –∏—Å–ø–æ–ª—å–∑—É–µ—Ç checksums –¥–ª—è –∑–∞—â–∏—Ç—ã)

**Distributed database —Å –±–∞–≥–æ–º**:
```
–°—Ü–µ–Ω–∞—Ä–∏–π:
Node1: SELECT balance FROM accounts WHERE id=123 ‚Üí 1000 ‚úÖ
Node2: SELECT balance FROM accounts WHERE id=123 ‚Üí 500 ‚ùå (–±–∞–≥ –≤ –∫–æ–¥–µ)
Node3: SELECT balance FROM accounts WHERE id=123 ‚Üí 1000 ‚úÖ

Client –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ Node2 ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
Client –¥—É–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî AWS S3 silent data corruption (2008)**:

–í 2008 –≥–æ–¥—É AWS –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –∏–∑-–∑–∞ –±–∞–≥–∞ –≤ –∫–æ–¥–µ –≤–æ–∑–º–æ–∂–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ S3 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—à–∏–±–∫–∏. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä Byzantine failure ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, –Ω–æ –∏–Ω–æ–≥–¥–∞ –æ—Ç–¥–∞—ë—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏–ª–∏ checksums –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å corruption.

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:

**1. –ò—Å–ø–æ–ª—å–∑—É–π cryptographic signatures**:
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–π —Å–æ–æ–±—â–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- Blockchain –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ

**2. –ü—Ä–∏–º–µ–Ω—è–π checksums/hashes**:
- –î–ª—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ (–∑–∞—â–∏—Ç–∞ –æ—Ç corruption)
- –î–ª—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ (–∑–∞—â–∏—Ç–∞ –æ—Ç –±–∏—Ç—ã—Ö –û–ó–£)
- –î–ª—è —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (—Ö–æ—Ç—è TCP —É–∂–µ –∏–º–µ–µ—Ç checksum)

**3. Byzantine Fault Tolerant (BFT) –∞–ª–≥–æ—Ä–∏—Ç–º—ã**:
- PBFT (Practical Byzantine Fault Tolerance)
- Raft/Paxos –∑–∞—â–∏—â–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ—Ç crash failures, –Ω–µ –æ—Ç Byzantine!
- BFT —Ç—Ä–µ–±—É–µ—Ç 3f+1 —É–∑–ª–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç f Byzantine —É–∑–ª–æ–≤

**4. Redundancy + voting**:
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–π –¥–∞–Ω–Ω—ã–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤
- –°—Ä–∞–≤–Ω–∏–≤–∞–π –æ—Ç–≤–µ—Ç—ã, –≤—ã–±–∏—Ä–∞–π majority
- –ü—Ä–∏–º–µ—Ä: —á–∏—Ç–∞–π —Å 3 replicas, –∏—Å–ø–æ–ª—å–∑—É–π quorum voting

**5. –ò—Å–ø–æ–ª—å–∑—É–π ECC –ø–∞–º—è—Ç—å**:
- –ó–∞—â–∏—Ç–∞ –æ—Ç single-bit errors –≤ RAM
- –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤

**6. Anomaly detection**:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —É–∑–ª–æ–≤
- –ï—Å–ª–∏ —É–∑–µ–ª –Ω–∞—á–∞–ª –æ—Ç–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –æ–Ω Byzantine

**Trade-offs**:
- üìà –ó–∞—â–∏—Ç–∞ –æ—Ç —à–∏—Ä–æ–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –æ—à–∏–±–æ–∫
- üìà –†–∞–±–æ—Ç–∞ –¥–∞–∂–µ –ø—Ä–∏ –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö
- üìâ –û—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (BFT –∞–ª–≥–æ—Ä–∏—Ç–º—ã slow)
- üìâ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç Byzantine failures**:
- ‚úÖ Blockchain, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
- ‚úÖ Financial —Å–∏—Å—Ç–µ–º—ã (fraud detection)
- ‚úÖ –°–∏—Å—Ç–µ–º—ã —Å untrusted participants
- ‚úÖ Safety-critical —Å–∏—Å—Ç–µ–º—ã (aerospace, –º–µ–¥–∏—Ü–∏–Ω–∞)
- ‚ùå –û–±—ã—á–Ω—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ microservices (trust assumptions)

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ enterprise —Å–∏—Å—Ç–µ–º Byzantine failures —Å–ª–∏—à–∫–æ–º –ø–∞—Ä–∞–Ω–æ–∏–¥–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å. –û–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞—â–∏—Ç—ã –æ—Ç crash failures –∏ network partitions.

---

### 9. Omission Failure (–û—Ç–∫–∞–∑ –∏–∑-–∑–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ **–∏–Ω–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –∏–ª–∏ **–Ω–µ –ø–æ–ª—É—á–∞–µ—Ç** —Å–æ–æ–±—â–µ–Ω–∏—è. –≠—Ç–æ –±–æ–ª–µ–µ –º—è–≥–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç fail-silent ‚Äî —É–∑–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ communication –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞.

**–¢–∏–ø—ã**:
- **Send omission**: —É–∑–µ–ª –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–µ–Ω –±—ã–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
- **Receive omission**: —É–∑–µ–ª –Ω–µ –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –µ–º—É –æ—Ç–ø—Ä–∞–≤–∏–ª–∏

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –æ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ (–Ω–µ –∏—Å–∫–∞–∂—ë–Ω–Ω–æ–µ)
- ‚úÖ –£–∑–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Ç–æ–ª—å–∫–æ communication –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –î–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚ùå –ü–æ—Ä—è–¥–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (–º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ message2 —Ä–∞–Ω—å—à–µ message1)

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü–æ—á—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–Ω–æ–≥–¥–∞ —Ç–µ—Ä—è–µ—Ç –ø–∏—Å—å–º–∞. –ü–∏—Å—å–º–∞ –Ω–µ –ø–æ–¥–¥–µ–ª—ã–≤–∞—é—Ç—Å—è (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Byzantine), –ø—Ä–æ—Å—Ç–æ –∏–Ω–æ–≥–¥–∞ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç. –¢—ã –Ω–µ –∑–Ω–∞–µ—à—å, –ø–æ—Ç–µ—Ä—è–ª–∏ –ª–∏ —Ç–≤–æ—ë –ø–∏—Å—å–º–æ, –∏–ª–∏ –∞–¥—Ä–µ—Å–∞—Ç –ø—Ä–æ—Å—Ç–æ –µ—â—ë –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**UDP protocol**:
- UDP –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤
- Packets –º–æ–≥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è –Ω–∞ –ø—É—Ç–∏
- –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä omission failure –Ω–∞ —Å–µ—Ç–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ

```
Application –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 UDP –ø–∞–∫–µ—Ç–æ–≤: [A, B, C, D, E]
–ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç: [A, C, E]
–ü–∞–∫–µ—Ç—ã B –∏ D –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å (send/receive omission)
```

**Kafka producer –±–µ–∑ acknowledgment**:
```
Producer –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:
Message1 ‚Üí Kafka (acks=0, –Ω–µ –∂–¥—ë—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
Message2 ‚Üí Kafka
Message3 ‚Üí Kafka

–°–µ—Ç—å –ø–µ—Ä–µ–∂–∞–ª–∞:
Message1: ‚úÖ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
Message2: ‚ùå –ø–æ—Ç–µ—Ä—è–Ω–æ (network packet drop)
Message3: ‚úÖ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ

Producer –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ Message2 –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å (omission failure)
```

**RabbitMQ publisher –±–µ–∑ confirms**:
- Publisher –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ publisher confirms
- Network glitch ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –¥–æ—à–ª–æ –¥–æ RabbitMQ
- Publisher –¥—É–º–∞–µ—Ç, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª, –Ω–æ RabbitMQ –Ω–µ –ø–æ–ª—É—á–∏–ª
- –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–æ

**MongoDB write –±–µ–∑ write concern**:
```
Application: db.users.insert({name: "Alice"}) –±–µ–∑ write concern
MongoDB primary: –ø—Ä–∏–Ω—è–ª –∑–∞–ø—Ä–æ—Å –≤ memory, –Ω–æ —É–ø–∞–ª –¥–æ flush –Ω–∞ –¥–∏—Å–∫
Application –¥—É–º–∞–µ—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–∞ (send omission)
–î–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è–Ω—ã
```

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**:

–£ —Ç–µ–±—è event-driven —Å–∏—Å—Ç–µ–º–∞: Service A ‚Üí RabbitMQ ‚Üí Service B. Service A –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –±–µ–∑ publisher confirms (–¥–ª—è "—Å–∫–æ—Ä–æ—Å—Ç–∏"). –°–µ—Ç—å –º–µ–∂–¥—É Service A –∏ RabbitMQ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- 95% —Å–æ–±—ã—Ç–∏–π –¥–æ—Ö–æ–¥—è—Ç
- 5% —Å–æ–±—ã—Ç–∏–π –º–æ–ª—á–∞ —Ç–µ—Ä—è—é—Ç—Å—è (omission failure)
- Service B –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Å–æ–±—ã—Ç–∏–π
- Business logic –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–ª—Å—è, –Ω–æ email –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª—Å—è)
- –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –¥–µ–±–∞–∂–∏—Ç—å ‚Äî –æ—à–∏–±–æ–∫ –Ω–µ—Ç, –ø—Ä–æ—Å—Ç–æ "–∏–Ω–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:

**1. –ò—Å–ø–æ–ª—å–∑—É–π acknowledgments**:
- Kafka: `acks=all` ‚Äî –∂–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –≤—Å–µ—Ö in-sync replicas
- RabbitMQ: publisher confirms ‚Äî –∂–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç broker
- HTTP: –ø—Ä–æ–≤–µ—Ä—è–π response status code

**2. –ü—Ä–∏–º–µ–Ω—è–π retry logic**:
- –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª ack –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ ‚Üí retry
- –ò—Å–ø–æ–ª—å–∑—É–π exponential backoff
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ retry (—á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞)

**3. –î–µ–ª–∞–π –æ–ø–µ—Ä–∞—Ü–∏–∏ idempotent**:
- Retry –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π unique message ID –¥–ª—è deduplication

**4. –ò—Å–ø–æ–ª—å–∑—É–π durable queues/topics**:
- RabbitMQ: durable queues + persistent messages
- Kafka: replicated topics —Å min.insync.replicas > 1

**5. At-least-once vs exactly-once**:
```
At-most-once (acks=0):
–û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí –Ω–µ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞
–†–∏—Å–∫: omission failure ‚Üí –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
–ü–ª—é—Å: –±—ã—Å—Ç—Ä–æ

At-least-once (acks=all + retry):
–û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí –∂–¥–∞—Ç—å ack ‚Üí retry if timeout
–†–∏—Å–∫: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ ack –ø–æ—Ç–µ—Ä—è–ª—Å—è, –Ω–æ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞)
–ü–ª—é—Å: –Ω–µ—Ç –ø–æ—Ç–µ—Ä—å

Exactly-once:
At-least-once + idempotency/deduplication
–†–∏—Å–∫: —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ü–ª—é—Å: –Ω–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–µ–π –∏ –ø–æ—Ç–µ—Ä—å
```

**6. Monitoring & alerting**:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ retry, timeouts
- –ú–æ–Ω–∏—Ç–æ—Ä—å latency (–≤—ã—Å–æ–∫–∞—è latency –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–º packet loss)
- –°—Ä–∞–≤–Ω–∏–≤–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ‚Äî Kafka producer**:
```
acks=all ‚Üí –¥–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –≤—Å–µ—Ö in-sync replicas
retries=3 ‚Üí –ø–æ–≤—Ç–æ—Ä–∏—Ç—å 3 —Ä–∞–∑–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
enable.idempotence=true ‚Üí –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–µ–π –ø—Ä–∏ retry
max.in.flight.requests.per.connection=1 ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ retry
```

**–†–∞–∑–Ω–∏—Ü–∞ –æ—Ç Fail-Silent**:

```
Fail-Silent:
–£–∑–µ–ª –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Üí –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è

Omission Failure:
–£–∑–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è ‚Üí —á–∞—Å—Ç–∏—á–Ω–∞—è –ø–æ—Ç–µ—Ä—è
```

---

### 10. Timing Failure (–û—Ç–∫–∞–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)

**–ß—Ç–æ —ç—Ç–æ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≤—ã–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ **–Ω–∞—Ä—É—à–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** (deadlines). –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è real-time —Å–∏—Å—Ç–µ–º.

**–ì–∞—Ä–∞–Ω—Ç–∏–∏**:
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (–µ—Å–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∏—Ö)
- ‚úÖ –£–∑–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–µ –ø–∞–¥–∞–µ—Ç

**–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**:
- ‚ùå –°–æ–±–ª—é–¥–µ–Ω–∏—è deadlines
- ‚ùå –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π latency

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –∑–∞–∫–∞–∑–∞–ª –¥–æ—Å—Ç–∞–≤–∫—É –µ–¥—ã "—á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç". –ö—É—Ä—å–µ—Ä –ø—Ä–∏–µ–∑–∂–∞–µ—Ç —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞. –ï–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –Ω–æ deadline –Ω–∞—Ä—É—à–µ–Ω ‚Äî —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ —Ç–µ–±–µ —É–∂–µ –Ω–µ –Ω—É–∂–Ω–∞ (—É—à—ë–ª –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ –ø–æ–µ—Å—Ç—å).

**–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:

**PostgreSQL slow query**:
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: SELECT * FROM users WHERE email = ? (–æ–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞ –∑–∞ 100ms)
PostgreSQL: –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å 5 —Å–µ–∫—É–Ω–¥ (–Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞, full table scan)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã ‚úÖ
- –ù–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –≤—ã–∫–∏–Ω—É–ª–æ timeout exception ‚ùå
- User –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É, —Ö–æ—Ç—è –∑–∞–ø—Ä–æ—Å –ø–æ—Ç–æ–º –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
```

**Redis –º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**:
```
Application: KEYS * (–ø–æ–∏—Å–∫ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –≤ –æ–≥—Ä–æ–º–Ω–æ–π –±–∞–∑–µ)
Redis: single-threaded ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ–∫—É–Ω–¥—ã

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- KEYS –≤–µ—Ä–Ω—ë—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ù–æ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—Ç timeouts (timing failure)
```

**Kafka consumer lag**:
```
Producer –ø–∏—à–µ—Ç 10,000 msg/sec
Consumer –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 5,000 msg/sec

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- Consumer –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–æ —Å delay 10 —Å–µ–∫—É–Ω–¥, 30 —Å–µ–∫—É–Ω–¥, 5 –º–∏–Ω—É—Ç...
- –î–ª—è real-time —Å–∏—Å—Ç–µ–º—ã —ç—Ç–æ timing failure
```

**Microservice timeout chain**:
```
Client ‚Üí API Gateway (timeout 3s) ‚Üí Service A (timeout 2s) ‚Üí Service B

Service B –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ 2.5 —Å–µ–∫—É–Ω–¥—ã (slow DB query)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
[3.0s] Client timeout
  ‚Üì
[2.5s] Service B –≤–µ—Ä–Ω—É–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  ‚Üì
[2.0s] Service A timeout (–Ω–µ –¥–æ–∂–¥–∞–ª—Å—è Service B)
  ‚Üì
API Gateway –≤–µ—Ä–Ω—É–ª 504 Gateway Timeout –∫–ª–∏–µ–Ω—Ç—É

–ù–æ Service B —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª –æ–ø–µ—Ä–∞—Ü–∏—é! –ü—Ä–æ—Å—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ.
```

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç ‚Äî cascading timeouts**:

–£ —Ç–µ–±—è chain –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤: Frontend ‚Üí BFF ‚Üí UserService ‚Üí Database. Database –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å (slow queries –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫).

Timeline:
1. Database queries –∑–∞–Ω–∏–º–∞—é—Ç 5 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 100ms
2. UserService timeout 3 —Å–µ–∫—É–Ω–¥—ã ‚Üí –≤—ã–∫–∏–¥—ã–≤–∞–µ—Ç timeout, –Ω–æ connection –∫ DB –µ—â—ë –∂–∏–≤–æ–π (–∑–∞–ø—Ä–æ—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è!)
3. BFF timeout 2 —Å–µ–∫—É–Ω–¥—ã ‚Üí –≤—ã–∫–∏–¥—ã–≤–∞–µ—Ç timeout
4. Frontend timeout 1 —Å–µ–∫—É–Ω–¥–∞ ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É

–¢–µ–ø–µ—Ä—å —É Database –∫—É—á–∞ "zombie" –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–Ω—ã, –Ω–æ –æ–Ω–∏ –∂—Ä—É—Ç —Ä–µ—Å—É—Ä—Å—ã. –≠—Ç–æ —É—Å—É–≥—É–±–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É (positive feedback loop).

**–ö–∞–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:

**1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ timeouts**:
```
–ü–ª–æ—Ö–æ:
Service A timeout = 30s
Service B timeout = 30s
User –∂–¥—ë—Ç –º–∏–Ω—É—Ç—É!

–•–æ—Ä–æ—à–æ:
User timeout = 5s
API Gateway timeout = 4s
Service A timeout = 3s
Service B timeout = 2s
Database query timeout = 1s

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä–æ—á–µ, —á–µ–º –≤—ã—à–µ—Å—Ç–æ—è—â–∏–π
```

**2. –ò—Å–ø–æ–ª—å–∑—É–π circuit breaker**:
- –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å —á–∞—Å—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç timeouts ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–π circuit
- –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω—è–π –∑–∞–ø—Ä–æ—Å—ã (fail-fast), –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å timeout
- –î–∞—ë—à—å —Å–µ—Ä–≤–∏—Å—É –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è

**3. –ú–æ–Ω–∏—Ç–æ—Ä—å latency percentiles**:
```
–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ: avg latency = 50ms ‚úÖ
–í–∞–∂–Ω–æ:
  p50 = 50ms ‚úÖ
  p95 = 200ms ‚ö†Ô∏è
  p99 = 2s ‚ùå (timing failures!)
```

**4. –ü—Ä–∏–º–µ–Ω—è–π backpressure**:
- –ï—Å–ª–∏ consumer –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç ‚Üí –∑–∞–º–µ–¥–ª–∏ producer
- Kafka: pause consuming –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–ª–µ–Ω–Ω–∞—è
- RabbitMQ: prefetch limit

**5. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π slow operations**:
- –ò–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ö–µ—à–∏ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—è–∂—ë–ª—ã—Ö –∑–∞–¥–∞—á (–Ω–µ –≤ real-time)

**6. Graceful degradation –ø—Ä–∏ timing failure**:
```
–ü—Ä–∏–º–µ—Ä e-commerce:
–ó–∞–ø—Ä–æ—Å –∫ recommendation service timeout (500ms)
‚Üì
–í–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–µ—à–∞
User –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –±—ã—Å—Ç—Ä–æ, —Ö–æ—Ç—å –∏ –Ω–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
```

**7. Request cancellation**:
- –ï—Å–ª–∏ client –æ—Ç–º–µ–Ω–∏–ª –∑–∞–ø—Ä–æ—Å (timeout) ‚Üí cancel –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- –ù–µ –ø—Ä–æ–¥–æ–ª–∂–∞–π –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–Ω–∞
- HTTP/2, gRPC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç cancellation

**–°–∏—Å—Ç–µ–º—ã, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∫ timing failures**:

**Real-time —Å–∏—Å—Ç–µ–º—ã**:
- Trading platforms (–µ—Å–ª–∏ —Ç–≤–æ–π order –ø—Ä–∏—à—ë–ª –Ω–∞ 100ms –ø–æ–∑–∂–µ ‚Äî –ø—Ä–æ–∏–≥—Ä–∞–ª –¥–µ–Ω—å–≥–∏)
- VoIP, video streaming (jitter, delay –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã)
- Industrial control systems (–∞–≤–∏–∞—Ü–∏—è, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø—Ä–∏–±–æ—Ä—ã)

**–ú–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ**:
- Batch processing (ETL jobs) ‚Äî –Ω–µ –≤–∞–∂–Ω–æ, –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∑–∞–¥–∞—á–∞ –∑–∞ 1 —á–∞—Å –∏–ª–∏ 1.5 —á–∞—Å–∞
- Background analytics

**PostgreSQL vs ClickHouse –ø—Ä–∏–º–µ—Ä**:

```
PostgreSQL (OLTP):
–û–∂–∏–¥–∞–Ω–∏–µ: query latency < 100ms
–ï—Å–ª–∏ query –∑–∞–Ω–∏–º–∞–µ—Ç 5s ‚Üí timing failure –¥–ª—è OLTP –Ω–∞–≥—Ä—É–∑–∫–∏

ClickHouse (OLAP):
–û–∂–∏–¥–∞–Ω–∏–µ: query –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å —Å–µ–∫—É–Ω–¥—ã –∏–ª–∏ –º–∏–Ω—É—Ç—ã
Query –∑–∞ 5s ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
```

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–æ–¥–µ–ª–µ–π –æ—Ç–∫–∞–∑–æ–≤

| –ú–æ–¥–µ–ª—å | –°–∏–º–ø—Ç–æ–º—ã | –û–±–Ω–∞—Ä—É–∂–∏–º–æ—Å—Ç—å | –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∏—Å–∫ | –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã |
|--------|----------|---------------|---------------|------------------|
| **Fail-Stop** | –£–∑–µ–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è | –í—ã—Å–æ–∫–∞—è (heartbeat) | Downtime –º–µ–∂–¥—É –æ—Ç–∫–∞–∑–æ–º –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º | Process killed, server power off |
| **Fail-Fast** | –ü–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ –æ—à–∏–±–∫–µ | –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è | –ß–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ | Assertions, panic on invariant violation |
| **Fail-Silent** | –ü–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å, –Ω–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—è | –°—Ä–µ–¥–Ω—è—è (timeouts) | –ó–∞–ø—Ä–æ—Å—ã –≤–∏—Å—è—Ç –¥–æ timeout | Deadlock, infinite loop, network drop |
| **Fail-Recover** | –í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ | –°—Ä–µ–¥–Ω—è—è | –ü–æ—Ç–µ—Ä—è in-memory state | Service restart, transient network issue |
| **Crash-Recovery** | –ü–∞–¥–µ–Ω–∏–µ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è | –í—ã—Å–æ–∫–∞—è | –î–æ–ª–≥–æ–µ recovery time | Database crash ‚Üí WAL replay |
| **Partial Failure** | –ß–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç, —á–∞—Å—Ç—å –Ω–µ—Ç | –ù–∏–∑–∫–∞—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å debugging, inconsistent view | One shard down, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ instances –º–µ–¥–ª–µ–Ω–Ω—ã–µ |
| **Network Partition** | –ì—Ä—É–ø–ø—ã —É–∑–ª–æ–≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ | –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è | Split-brain, data divergence | DataCenter link failure |
| **Byzantine** | –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ/–∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ | –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è | Data corruption, security breach | Compromised node, hardware corruption |
| **Omission** | –°–æ–æ–±—â–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è | –°—Ä–µ–¥–Ω—è—è | –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö, partial delivery | UDP packet loss, message queue –±–µ–∑ acks |
| **Timing** | –û–ø–µ—Ä–∞—Ü–∏–∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ deadline | –°—Ä–µ–¥–Ω—è—è (latency monitoring) | Cascading timeouts, UX degradation | Slow queries, overloaded service |

---

## –í–∑–∞–∏–º–æ—Å–≤—è–∑—å –º–æ–¥–µ–ª–µ–π

–ú–æ–¥–µ–ª–∏ –æ—Ç–∫–∞–∑–æ–≤ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã ‚Äî –æ–Ω–∏ –º–æ–≥—É—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å—Å—è:

```
Timing Failure ‚Üí Fail-Silent
(–º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≤ –∏—Ç–æ–≥–µ timeout ‚Üí –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ fail-silent)

Fail-Silent ‚Üí Network Partition
(–º–Ω–æ–≥–æ —É–∑–ª–æ–≤ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –æ—Ç–≤–µ—á–∞—Ç—å ‚Üí –º–æ–∂–µ—Ç –±—ã—Ç—å partition)

Partial Failure + Network Partition ‚Üí Split-Brain
(—á–∞—Å—Ç—å —É–∑–ª–æ–≤ –≤–∏–¥–∏—Ç –æ–¥–Ω–æ, —á–∞—Å—Ç—å –¥—Ä—É–≥–æ–µ ‚Üí –¥–≤–∞ –ª–∏–¥–µ—Ä–∞)

Omission Failure ‚Üí Data Loss
(–ø–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π –±–µ–∑ retry ‚Üí –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö)

Byzantine Failure —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
(–≤–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∏–π —É–∑–µ–ª –º–æ–∂–µ—Ç —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø –æ—Ç–∫–∞–∑–∞)
```

**–ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π** (–æ—Ç —Å–∞–º–æ–π –º—è–≥–∫–æ–π –∫ —Å–∞–º–æ–π —Å—Ç—Ä–æ–≥–æ–π –¥–ª—è –∑–∞—â–∏—Ç—ã):

```
1. Timing Failure (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ)
2. Omission Failure (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç–µ—Ä—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è)
3. Fail-Silent (–ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–≤–µ—á–∞—Ç—å)
4. Crash-Recovery (–ø–∞–¥–∞–µ—Ç, –Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
5. Fail-Stop (–ø–∞–¥–∞–µ—Ç –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
6. Byzantine Failure (–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
```

–ï—Å–ª–∏ —Ç–≤–æ—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç Byzantine failures, –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö. –ù–æ –≤–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–∞—è!

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤

### 1. Timeout Everywhere

**–ü—Ä–∞–≤–∏–ª–æ**: –õ—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å I/O (—Å–µ—Ç—å, –¥–∏—Å–∫, –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å), –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å timeout.

```
–ü–ª–æ—Ö–æ:
socket.connect(host, port)  # –º–æ–∂–µ—Ç –≤–∏—Å–µ—Ç—å –≤–µ—á–Ω–æ
db.query("SELECT ...")      # –º–æ–∂–µ—Ç –≤–∏—Å–µ—Ç—å –≤–µ—á–Ω–æ

–•–æ—Ä–æ—à–æ:
socket.connect(host, port, timeout=5s)
db.query("SELECT ...", timeout=2s)
```

**–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å timeout**:
- –°–º–æ—Ç—Ä–∏ –Ω–∞ latency percentiles (p95, p99)
- –î–æ–±–∞–≤—å –±—É—Ñ–µ—Ä (–µ—Å–ª–∏ p99=100ms, timeout=500ms)
- –£—á–∏—Ç—ã–≤–∞–π chain timeouts (–∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –∫–æ—Ä–æ—á–µ)

---

### 2. Retry —Å —É–º–æ–º

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ retry**:

**Exponential backoff**:
```
–ü–æ–ø—ã—Ç–∫–∞ 1: —Å—Ä–∞–∑—É
–ü–æ–ø—ã—Ç–∫–∞ 2: —á–µ—Ä–µ–∑ 1s
–ü–æ–ø—ã—Ç–∫–∞ 3: —á–µ—Ä–µ–∑ 2s
–ü–æ–ø—ã—Ç–∫–∞ 4: —á–µ—Ä–µ–∑ 4s
–ü–æ–ø—ã—Ç–∫–∞ 5: —á–µ—Ä–µ–∑ 8s
```

**Jitter (—Å–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞)**:
```
–í–º–µ—Å—Ç–æ: wait = 2^attempt
–ò—Å–ø–æ–ª—å–∑—É–π: wait = 2^attempt + random(0, 1s)

–ó–∞—á–µ–º: –∏–∑–±–µ–∂–∞—Ç—å thundering herd (–≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã retry –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ retry**:
```
max_retries = 3  # –Ω–µ retry –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ!
```

**–ö–æ–≥–¥–∞ –ù–ï –¥–µ–ª–∞—Ç—å retry**:
- HTTP 4xx –æ—à–∏–±–∫–∏ (400, 401, 403, 404) ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤—Ä–µ–º–µ–Ω–Ω–∞—è
- Validation errors
- Non-idempotent –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ deduplication

**–ö–æ–≥–¥–∞ –î–ï–õ–ê–¢–¨ retry**:
- HTTP 5xx –æ—à–∏–±–∫–∏ (500, 502, 503, 504)
- Network timeouts
- Connection refused (service temporary down)
- Idempotent –æ–ø–µ—Ä–∞—Ü–∏–∏

---

### 3. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–ß—Ç–æ —ç—Ç–æ**: –û–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –ø—Ä–∏ –æ–¥–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã**:

```
–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ:
- SET key = "value" (Redis) ‚Äî –≤—ã–ø–æ–ª–Ω–∏ 10 —Ä–∞–∑, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
- UPDATE users SET status = 'active' WHERE id = 123
- DELETE FROM orders WHERE id = 456
- PUT /api/users/123 (HTTP PUT –æ–±—ã—á–Ω–æ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω)

–ù–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ:
- INSERT INTO orders (–±–µ–∑ unique constraint)
- UPDATE users SET balance = balance + 100 (–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)
- POST /api/orders (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞)
```

**–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–π**:

**1. –ò—Å–ø–æ–ª—å–∑—É–π unique operation ID**:
```
Client –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç: operation_id = uuid()
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: POST /api/transfer {from: A, to: B, amount: 100, operation_id: "abc-123"}

Server:
if operation_id exists in completed_operations:
  return cached result (deduplication)
else:
  execute operation
  save operation_id ‚Üí result
  return result
```

**2. –ò—Å–ø–æ–ª—å–∑—É–π versioning (Optimistic Locking)**:
```
UPDATE accounts SET balance = 100, version = version + 1
WHERE id = 123 AND version = 5

–ï—Å–ª–∏ version –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è (–∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π —É–∂–µ –∏–∑–º–µ–Ω–∏–ª)
```

---

### 4. Circuit Breaker

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**: –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å —á–∞—Å—Ç–æ –ø–∞–¥–∞–µ—Ç ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–Ω—å –∫ –Ω–µ–º—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è, –¥–∞–π –µ–º—É "–æ—Ç–¥–æ—Ö–Ω—É—Ç—å".

**–°–æ—Å—Ç–æ—è–Ω–∏—è**:

```
CLOSED (–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞):
Requests –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ ‚Üí –µ—Å–ª–∏ errors < threshold ‚Üí –æ—Å—Ç–∞—ë–º—Å—è CLOSED

OPEN (circuit –æ—Ç–∫—Ä—ã—Ç):
Requests –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è (fail-fast) ‚Üí –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–æ–º–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
–ñ–¥—ë–º timeout (30s, 60s)

HALF-OPEN (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):
–ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ test requests
–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω—ã ‚Üí CLOSED
–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ ‚Üí –æ–±—Ä–∞—Ç–Ω–æ –≤ OPEN
```

**–ü—Ä–∏–º–µ—Ä**:
```
Calls –∫ Payment Service:
Success ‚Üí CLOSED
Success ‚Üí CLOSED
Error ‚Üí CLOSED (–µ—â—ë –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ threshold)
Error ‚Üí CLOSED
Error ‚Üí OPEN (3 errors –ø–æ–¥—Ä—è–¥)

–¢–µ–ø–µ—Ä—å –≤ OPEN:
Next request ‚Üí —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É (–Ω–µ —Ö–æ–¥–∏–º –≤ Payment Service)
... –∂–¥—ë–º 60 —Å–µ–∫—É–Ω–¥ ...

HALF-OPEN:
Test request ‚Üí Success ‚Üí CLOSED (—Å–µ—Ä–≤–∏—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è)
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
- Java: Resilience4j, Hystrix
- Python: pybreaker
- Go: gobreaker

---

### 5. Bulkhead Pattern (–ò–∑–æ–ª—è—Ü–∏—è)

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**: –ò–∑–æ–ª–∏—Ä—É–π —Ä–µ—Å—É—Ä—Å—ã —Ç–∞–∫, —á—Ç–æ–±—ã –æ—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –≤–ª–∏—è–ª –Ω–∞ –¥—Ä—É–≥–∏–µ.

**–ê–Ω–∞–ª–æ–≥–∏—è**: –ö–æ—Ä–∞–±–ª—å —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –æ—Ç—Å–µ–∫–∏ (bulkheads). –ï—Å–ª–∏ –æ–¥–∏–Ω –æ—Ç—Å–µ–∫ –∑–∞—Ç–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è —Å—É—Ö–∏–º–∏ ‚Äî –∫–æ—Ä–∞–±–ª—å –Ω–µ —Ç–æ–Ω–µ—Ç.

**–ü—Ä–∏–º–µ—Ä—ã**:

**Thread pools**:
```
–ü–ª–æ—Ö–æ:
–ï–¥–∏–Ω—ã–π thread pool (100 threads) –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
–ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–±–∏—Ä–∞–µ—Ç –≤—Å–µ threads ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

–•–æ—Ä–æ—à–æ:
Thread pool –¥–ª—è DB queries: 50 threads
Thread pool –¥–ª—è external API calls: 30 threads
Thread pool –¥–ª—è internal services: 20 threads

–ú–µ–¥–ª–µ–Ω–Ω—ã–π external API –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç DB queries
```

**Connection pools**:
```
PostgreSQL connection pool: 20 connections –¥–ª—è critical queries
Redis connection pool: 10 connections –¥–ª—è caching

Critical queries –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ connections
```

**Rate limiting per client**:
```
Client A: max 100 req/sec
Client B: max 100 req/sec

Client A –Ω–µ –º–æ–∂–µ—Ç "–∑–∞–¥–∞–≤–∏—Ç—å" —Å–∏—Å—Ç–µ–º—É –∏ –Ω–∞–≤—Ä–µ–¥–∏—Ç—å Client B
```

---

### 6. Health Checks

**–¢–∏–ø—ã health checks**:

**Liveness check** (–∂–∏–≤ –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å?):
```
GET /health/liveness ‚Üí 200 OK

–ï—Å–ª–∏ fail ‚Üí restart container (Kubernetes)
```

**Readiness check** (–≥–æ—Ç–æ–≤ –ª–∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫?):
```
GET /health/readiness
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –î–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö?
- –ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç—å?
- –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å?

–ï—Å–ª–∏ fail ‚Üí —É–±—Ä–∞—Ç—å –∏–∑ load balancer, –Ω–æ –Ω–µ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å
```

**–ì–ª—É–±–æ–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**:
```
–ü–ª–æ—Ö–æ:
/health ‚Üí –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK (–Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∏—á–µ–≥–æ)

–•–æ—Ä–æ—à–æ:
/health ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
  - Database connection (–ø—Ä–æ—Å—Ç–æ–π SELECT 1)
  - Redis connection (PING)
  - Disk space > 10%
  - Memory usage < 90%
```

**–ù–æ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ**: —Å–ª–∏—à–∫–æ–º —Ç—è–∂—ë–ª—ã–µ health checks —Å–∞–º–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã!

---

### 7. Graceful Degradation

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**: –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

**–ü—Ä–∏–º–µ—Ä—ã**:

**E-commerce site**:
```
Recommendation service –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
‚ùå –ü–ª–æ—Ö–æ: –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É "Service Unavailable"
‚úÖ –•–æ—Ä–æ—à–æ: –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–µ—à–∞

Image CDN –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
‚ùå –ü–ª–æ—Ö–æ: —Å–∞–π—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
‚úÖ –•–æ—Ä–æ—à–æ: –ø–æ–∫–∞–∑–∞—Ç—å placeholder images
```

**Social network**:
```
Notification service –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
‚ùå –ü–ª–æ—Ö–æ: fail post creation
‚úÖ –•–æ—Ä–æ—à–æ: —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è –ø–æ–∑–∂–µ (queue)
```

---

## Chaos Engineering

**–ü—Ä–∏–Ω—Ü–∏–ø**: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ª–æ–º–∞–π —Å–∏—Å—Ç–µ–º—É –≤ production (controlled environment), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –æ–Ω–∞ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –æ—Ç–∫–∞–∑—ã.

**–ü—Ä–∞–∫—Ç–∏–∫–∏**:

**1. Chaos Monkey (Netflix)**:
- –°–ª—É—á–∞–π–Ω–æ —É–±–∏–≤–∞–µ—Ç instances –≤ production
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**2. Simulate latency**:
- –î–æ–±–∞–≤–ª—è–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–π, —á—Ç–æ timeouts —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**3. Network partition**:
```
iptables -A INPUT -s <ip> -j DROP
(–∏–∑–æ–ª–∏—Ä—É–π —É–∑–µ–ª –æ—Ç –¥—Ä—É–≥–∏—Ö)

–ü—Ä–æ–≤–µ—Ä—è–µ—à—å:
- Detect-–∏—Ç—Å—è –ª–∏ partition?
- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–∏ split-brain?
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ç–∏?
```

**4. Resource exhaustion**:
- –ó–∞–ø–æ–ª–Ω—è–π –¥–∏—Å–∫ –¥–æ 100%
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π CPU/memory
- –ü—Ä–æ–≤–µ—Ä—è–π, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç, –∞ graceful degradation —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã**:

1. **–í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –æ—Ç–∫–∞–∑—ã –Ω–µ–∏–∑–±–µ–∂–Ω—ã** ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π —Å —É—á—ë—Ç–æ–º —ç—Ç–æ–≥–æ
2. **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—Ç–∫–∞–∑–æ–≤ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** ‚Äî –Ω–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
3. **Observability –∫—Ä–∏—Ç–∏—á–Ω–∞** ‚Äî —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –ø–æ—á–∏–Ω–∏—Ç—å —Ç–æ, —á—Ç–æ –Ω–µ –≤–∏–¥–∏—à—å
4. **–¢–µ—Å—Ç–∏—Ä—É–π –æ—Ç–∫–∞–∑—ã** ‚Äî chaos engineering –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∞—Å—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–∞
5. **Trade-offs –≤–µ–∑–¥–µ** ‚Äî –≤—ã–±–∏—Ä–∞–π –º–µ–∂–¥—É consistency, availability, performance –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø**:

> Assume everything will fail. Then design your system to handle those failures gracefully.

**–ß—Ç–æ –¥–∞–ª—å—à–µ**:

- –ò–∑—É—á–∏ –∫–æ–Ω—Å–µ–Ω—Å—É—Å –∞–ª–≥–æ—Ä–∏—Ç–º—ã (Raft, Paxos) ‚Äî –æ–Ω–∏ —Ä–µ—à–∞—é—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç–∫–∞–∑–æ–≤
- –ü–æ—á–∏—Ç–∞–π –ø—Ä–æ CAP —Ç–µ–æ—Ä–µ–º—É ‚Äî fundamental limitation —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- –ò–∑—É—á–∏ patterns: Circuit Breaker, Bulkhead, Retry, Saga
- –ü—Ä–∞–∫—Ç–∏–∫—É–π chaos engineering –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

**–ü–æ–º–Ω–∏**: –ù–∞–¥—ë–∂–Ω–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî —ç—Ç–æ –Ω–µ —Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è. –≠—Ç–æ —Ç–∞, –∫–æ—Ç–æ—Ä–∞—è **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** –ø–æ—Å–ª–µ –ø–æ–ª–æ–º–æ–∫.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

**–ö–Ω–∏–≥–∏**:
- "Designing Data-Intensive Applications" by Martin Kleppmann ‚Äî –±–∏–±–ª–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- "Site Reliability Engineering" by Google ‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –æ—Ç Google
- "Release It!" by Michael Nygard ‚Äî patterns –¥–ª—è production-ready —Å–∏—Å—Ç–µ–º

**Papers**:
- "The Byzantine Generals Problem" by Leslie Lamport
- "Harvest, Yield, and Scalable Tolerant Systems" by Fox & Brewer
- "Consensus on Transaction Commit" by Jim Gray

**–£–¥–∞—á–∏ –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞–¥—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º!** üöÄ
